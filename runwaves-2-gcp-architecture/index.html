<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.fa38a5b17d14431726c4.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap);@font-face{font-family:"Source Serif Pro";font-style:normal;font-weight:400;font-display:swap;src:local("Source Serif Pro"),local("SourceSerifPro-Regular"),url(https://fonts.gstatic.com/s/sourceserifpro/v6/neIQzD-0qpwxpaWvjeD0X88SAOeauXo-oAGIyY0Wfw.woff2) format("woff2");unicode-range:U+0100-024f,U+0259,U+1e??,U+2020,U+20a0-20ab,U+20ad-20cf,U+2113,U+2c60-2c7f,U+a720-a7ff}@font-face{font-family:"Source Serif Pro";font-style:normal;font-weight:400;font-display:swap;src:local("Source Serif Pro"),local("SourceSerifPro-Regular"),url(https://fonts.gstatic.com/s/sourceserifpro/v6/neIQzD-0qpwxpaWvjeD0X88SAOeauXQ-oAGIyY0.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-family:"Source Serif Pro";font-style:normal;font-weight:600;font-display:swap;src:local("Source Serif Pro Semibold"),local("SourceSerifPro-Semibold"),url(https://fonts.gstatic.com/s/sourceserifpro/v6/neIXzD-0qpwxpaWvjeD0X88SAOeasasatSKqxKcsdrOPbQ.woff2) format("woff2");unicode-range:U+0100-024f,U+0259,U+1e??,U+2020,U+20a0-20ab,U+20ad-20cf,U+2113,U+2c60-2c7f,U+a720-a7ff}@font-face{font-family:"Source Serif Pro";font-style:normal;font-weight:600;font-display:swap;src:local("Source Serif Pro Semibold"),local("SourceSerifPro-Semibold"),url(https://fonts.gstatic.com/s/sourceserifpro/v6/neIXzD-0qpwxpaWvjeD0X88SAOeasasatSyqxKcsdrM.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-family:"Source Serif Pro";font-style:normal;font-weight:700;font-display:swap;src:local("Source Serif Pro Bold"),local("SourceSerifPro-Bold"),url(https://fonts.gstatic.com/s/sourceserifpro/v6/neIXzD-0qpwxpaWvjeD0X88SAOeasc8btSKqxKcsdrOPbQ.woff2) format("woff2");unicode-range:U+0100-024f,U+0259,U+1e??,U+2020,U+20a0-20ab,U+20ad-20cf,U+2113,U+2c60-2c7f,U+a720-a7ff}@font-face{font-family:"Source Serif Pro";font-style:normal;font-weight:700;font-display:swap;src:local("Source Serif Pro Bold"),local("SourceSerifPro-Bold"),url(https://fonts.gstatic.com/s/sourceserifpro/v6/neIXzD-0qpwxpaWvjeD0X88SAOeasc8btSyqxKcsdrM.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}:root{--color-primary:#3eb0ef;--color-base:#15171a;--color-black-light:#444;--color-secondary:#5b7a81;--color-border:#c7d5d8;--color-bg:#f5f5f5;--font-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;--font-serif:"Source Serif Pro",Georgia,Times,serif;--font-mono:Menlo,Courier,monospace;--font-light:300;--font-normal:400;--font-semi-bold:600;--font-heavy:700;--height:4rem;--margin:2rem;--radius:0.6rem}a,abbr,acronym,address,applet,article,aside,audio,big,blockquote,body,canvas,caption,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,ul,var,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}img{max-width:100%}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}a{background-color:transparent}a:active,a:hover{outline:0}b,strong{font-weight:700}dfn,em,i{font-style:italic}h1{margin:.67em 0;font-size:2em}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}mark{background-color:#fdffb6}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit}button{overflow:visible;border:none}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input{line-height:normal}input:focus{outline:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{box-sizing:content-box;-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}legend{padding:0;border:0}textarea{overflow:auto}table{border-spacing:0;border-collapse:collapse}td,th{padding:0}html{overflow-y:scroll;font-size:62.5%;background:var(--color-base);-webkit-tap-highlight-color:rgba(0,0,0,0)}body,html{overflow-x:hidden}body{color:rgba(0,0,0,.84);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:1.5rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:"liga" on}hr{position:relative;display:block;width:100%;margin:1.8em 0 2.4em;padding:0;height:1px;border:0;border-top:1px solid #e3e9ed}audio,canvas,iframe,img,svg,video{vertical-align:middle}article audio,article canvas,article iframe,article img,article svg,article video{display:block;margin:0 auto}fieldset{margin:0;padding:0;border:0}textarea{resize:vertical}blockquote,dl,ol,p,ul{margin:0 0 1.5em}ol,ul{padding-left:1.3em;padding-right:1.5em}ol ol,ol ul,ul ol,ul ul{margin:.5em 0 1em}ul{list-style:disc}ol{list-style:decimal}ol,ul{max-width:100%}li{margin:.5em 0;padding-left:.3em;line-height:1.6em}dt{float:left;margin:0 20px 0 0;width:120px;font-weight:var(--font-semi-bold);text-align:right}dd{margin:0 0 5px;text-align:left}blockquote{margin:.3em 0 1.8em;padding:0 1.6em;border-left:.5em solid #cbeafb}blockquote p{margin:.8em 0;font-weight:300}blockquote small{display:inline-block;margin:.8em 0 .8em 1.5em;font-size:.9em;opacity:.8}blockquote small:before{content:"\2014   \A0"}blockquote cite{font-weight:700}blockquote cite a{font-weight:400}a{color:#26a8ed;text-decoration:none}a:hover{text-decoration:underline}.content-body a{color:#283d6a!important;border-bottom:1px dashed rgba(40,61,106,.34901960784313724);transition:.2s ease-in-out;text-decoration:none;padding-bottom:0}.content-body a:hover{text-decoration:none;background-color:rgba(115,145,215,.12941176470588237);border-bottom-color:#5c74ac!important}h1,h2,h3,h4,h5,h6{margin-top:0;color:var(--color-base);line-height:1.15;font-weight:700;text-rendering:optimizeLegibility}h1{margin:0 0 .5em;font-size:4rem;font-weight:700}@media (max-width:500px){h1{font-size:2rem}}h2{margin:1.5em 0 .5em;font-size:2rem}@media (max-width:500px){h2{font-size:1.8rem}}h3{margin:1.5em 0 .5em;font-size:1.8rem;font-weight:var(--font-semi-bold)}@media (max-width:500px){h3{font-size:1.7rem}}h4{margin:1.5em 0 .5em;font-size:1.6rem;font-weight:var(--font-semi-bold)}h5,h6{margin:1.5em 0 .5em;font-size:1.4rem;font-weight:var(--font-semi-bold)}.viewport{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh}.container{max-width:1120px;margin:0 auto;padding:0 4vw}.content{margin:0 auto;font-size:2rem;line-height:1.7em}.content-body{display:flex;flex-direction:column;font-family:Nunito,sans-serif}.post-full-header{max-width:1040px;margin:0 auto;padding:6vw 3vw 3vw;text-align:center}.post-full-meta{display:flex;justify-content:center;align-items:center;margin-bottom:5px;color:#738a94;font-size:1.3rem;font-weight:var(--font-semi-bold);letter-spacing:1px;text-transform:uppercase}.post-full-meta-date{color:#3eb0ef}.post-full-meta-date.postcard{color:#464646;font-size:.9em}.site-mast-left-flex{display:flex;align-items:center}.date-divider{display:inline-block;margin:0 6px 1px}.post-full-title{margin:0;color:#090a0b;font-size:5rem}.post-card-tags{display:block;margin-bottom:10px;line-height:1.15em}.post-card-tags,.post-reading-time{color:#738a94;font-size:1rem;font-weight:600;letter-spacing:1px;text-transform:uppercase}.post-reading-time{flex-shrink:0;margin-left:20px;line-height:33px}@media (min-width:601px){.post-full-meta{margin-bottom:15px;font-size:1.5rem;opacity:.8}.post-feature-title{max-width:1200px;margin:0 auto;font-size:7rem;letter-spacing:2px;widows:3}.post-feature-excerpt{margin:20px auto;font-size:2.8rem}}@media (max-width:500px){.post-full-meta{font-size:1.2rem;line-height:1.3em}.post-full-title{font-size:2.9rem}}.post-full-content{position:relative;margin:0 auto;padding:70px 120px 0;min-height:230px;font-family:Georgia,serif;font-size:2rem;line-height:1.6em;background:#fff}#disqus_thread{max-width:720px;margin:0 auto}.post-feature-image{margin:0 -10vw -165px;background:#c5d2d9 50%;border-radius:5px;overflow:hidden}.post-full-content:after,.post-full-content:before{content:"";position:absolute;top:15px;z-index:-1;display:block;width:20px;height:200px;background:rgba(39,44,49,.15);-webkit-filter:blur(5px);filter:blur(5px)}@media (max-width:1170px){.post-feature-image{margin:0 -4vw -100px;border-radius:0}.post-full-content{padding:5vw 7vw 0}}@media (max-width:500px){.post-feature-image{margin-bottom:4vw;max-height:350px}.post-full-content{padding:0}.post-full-content:after,.post-full-content:before{display:none}}.content-body h1,.content-body h2,.content-body h3,.content-body h4,.content-body h5,.content-body h6{font-family:var(--font-sans-serif)}.content-body h1{margin:1em 0 .5em;font-size:3.4rem;font-weight:700}@media (max-width:500px){.content-body h1{font-size:2.8rem}}.content-title{margin:0 0 .8em;font-size:5rem}@media (max-width:500px){.content-title{margin:.8em 0;font-size:3.4rem}.content{font-size:1.8rem}}.content-body h2{margin:.8em 0 .4em;font-size:3.2rem;font-weight:700}@media (max-width:500px){.content-body h2{font-size:2.6rem}}.content-body h3{margin:.5em 0 .2em;font-size:2.8rem;font-weight:700}@media (max-width:500px){.content-body h3{font-size:2.2rem}}.content-body h4{margin:.5em 0 .2em;font-size:2.4rem;font-weight:700}@media (max-width:500px){.content-body h4{font-size:2.2rem}}.content-body h5{display:block;margin:.5em 0;padding:1em 0 1.5em;border:0;font-family:Georgia,serif;color:var(--color-primary);font-style:italic;font-size:3.2rem;line-height:1.35em;text-align:center}.content-body h6{margin:.5em 0 .2em;font-size:2rem;font-weight:700}.content-body figure{margin:.4em 0 1.6em;font-size:2.8rem;font-weight:700}.site-head{padding-top:20px;padding-bottom:20px;color:#fff;background:#100e17}.site-head.home{background:url(https://storage.googleapis.com/tvqqq-github/cover.jpg) no-repeat 50%;background-size:cover;background-attachment:scroll}.site-nav-item{display:inline-block;padding:5px 10px;color:#fff;opacity:.7}.site-nav-item:hover{text-decoration:none;opacity:1}.site-nav-icon{height:18px;margin:-5px 0 0}.site-logo{height:100px;border-radius:50%;margin-bottom:10px;box-shadow:8px 28px 50px rgb(39 44 49/7%),1px 6px 12px rgb(39 44 49/4%)}.site-logo.not-home{height:30px;margin-bottom:5px}.site-mast{justify-content:space-between}.site-mast,.site-mast-right{display:flex;align-items:center}.site-mast-right{margin:0 -10px 0 20px}.site-mast-right .site-nav-item:last-child{padding-right:0}.site-banner{max-width:80%;margin:0 auto;padding:2vw 0;text-align:center}.site-banner-title{margin:0;padding:0;color:#fff;font-size:4rem;line-height:1.3em}.site-banner-desc{margin:7px 0 0;padding:0;font-size:1.5rem;line-height:1.3em;opacity:.8}.site-nav{display:flex;align-items:center;justify-content:space-between;margin:15px 0 0}.site-mast-left-flex .site-nav{margin:0 0 0 8px}.site-nav-left{margin:0 20px 0 -10px}.site-nav-right{margin:0 -10px 0 20px}.site-nav-button{display:inline-block;padding:5px 10px;border:1px solid #fff;color:#fff;font-size:1.3rem;line-height:1em;border-radius:var(--radius);opacity:.7}.site-nav-button:hover{text-decoration:none}.site-main{padding:4vw 0}.post-feed{display:grid;justify-content:space-between;grid-gap:30px;grid-template-columns:1fr 1fr 1fr}@media (max-width:980px){.post-feed{grid-template-columns:1fr 1fr}}@media (max-width:680px){.post-feed{grid-template-columns:1fr}}.post-card{color:inherit;text-decoration:none;box-shadow:8px 28px 50px rgba(39,44,49,.07),1px 6px 12px rgba(39,44,49,.04);border-radius:5px;overflow:hidden}.post-card-author-name{font-size:1.4rem}.post-card-content{padding:25px}.post-card:hover{-webkit-transform:translate3D(0,-1px,0) scale(1.02);transform:translate3D(0,-1px,0) scale(1.02);transition:all .4s ease;outline:none;text-decoration:none}.post-card-title{margin:0 0 10px;padding:0;line-height:130%}.post-card-excerpt{font-size:1.6rem;line-height:1.55em}.post-card-image{margin:0 0 10px;width:auto;height:200px;background:var(--color-secondary) no-repeat 50%;background-size:cover}.post-card-footer{justify-content:space-between;margin:10px 0 0;color:var(--color-secondary)}.post-card-footer,.post-card-footer-left{display:flex;align-items:center}.post-card-footer-right{display:flex;flex-direction:column}.post-card-avatar{width:30px;height:30px;margin:0 7px 0 0;border-radius:100%;display:flex;align-items:center;justify-content:center}.post-card-avatar .author-profile-image{display:block;width:100%;background:var(--color-secondary);border-radius:100%;-o-object-fit:cover;object-fit:cover}.post-card-avatar .default-avatar{width:26px}.tag-header{max-width:690px;margin:0 0 4vw}.tag-header h1{margin:0 0 1rem}.tag-header p{margin:0;color:var(--color-secondary);font-size:2.2rem;line-height:1.3em}@media (max-width:500px){.tag-header{border-bottom:1px solid var(--color-bg);padding-bottom:4vw}.tag-header p{font-size:1.7rem}}.author-header{display:flex;justify-content:space-between;margin:0 0 4vw}.author-header h1{margin:0 0 1rem}.author-header p{margin:0;color:var(--color-secondary);font-size:2.2rem;line-height:1.3em}.author-header-image{flex:0 0 auto;margin:0 0 0 4vw;height:120px;width:120px;border-radius:100%;overflow:hidden}.author-header-meta{display:flex;margin:1rem 0 0}.author-header-item{display:block;padding:2px 10px}.author-header-item:first-child{padding-left:0}@media (max-width:500px){.author-header{border-bottom:1px solid var(--color-bg);padding-bottom:4vw}.author-header p{font-size:1.7rem}.author-header-image{height:80px;width:80px}}.pagination{position:relative;display:flex;justify-content:space-between;align-items:center;margin:4vw 0 0}.pagination a{display:inline-block;padding:10px 15px;border:1px solid var(--color-border);color:var(--color-secondary);text-decoration:none;font-size:1.4rem;line-height:1em;border-radius:var(--radius)}.pagination-location{position:absolute;left:50%;width:100px;margin-left:-50px;text-align:center;color:var(--color-secondary);font-size:1.3rem}.site-foot{padding:20px 0 40px;color:hsla(0,0%,100%,.7);font-size:1.3rem;background:var(--color-base)}.site-foot-nav{display:flex;align-items:center;justify-content:space-between}.site-foot-nav-left{flex:1 1;font-size:110%}.site-foot-nav a{color:hsla(0,0%,100%,.7)}.site-foot-nav a:hover{text-decoration:none;color:#fff}.site-foot-nav-right a{display:inline-block;padding:2px 6px}.site-foot-nav-right a:last-child{padding-right:0}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code.language-text{font-size:90%;overflow-wrap:break-word;word-wrap:break-word;padding:.1rem .3rem .2rem;border:2px solid transparent;border-radius:4px;background:#001628}.gatsby-highlight{position:relative;border-radius:8px;overflow:hidden;margin:10px 0;background:#001628;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.gatsby-highlight pre{margin:0;font-size:1.5rem}.gatsby-highlight:before{background:#ddd;border-radius:0 0 4px 4px;color:var(--color-base);font-size:.75rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;letter-spacing:.075em;line-height:1;padding:.25rem .5rem;position:absolute;right:1.5rem;text-align:right;text-transform:uppercase;top:0;content:attr(data-language);background:#f7df1e;font-weight:bolder}.gatsby-highlight pre code{white-space:pre;-webkit-overflow-scrolling:touch;display:block;overflow-x:scroll;max-width:100%;padding:20px;min-width:100px}[class^=language-]{color:#f5d67b!important}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#5e7671;font-style:italic}.token.property,.token.punctuation,.token.tag{color:#72e0d1}.token.attr-name{color:#83ba52}.token.boolean,.token.number{color:#fc9463}.token.attr-value,.token.selector{color:#f5d67b}.token.entity,.token.operator,.token.url,.token.variable{color:#aa7ee1}.token.atrule,.token.keyword,.token.string{color:#83ba52}.token.important,.token.regex{color:#e90}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.show-comment-button{padding:30px;border:1px solid var(--color-base);text-align:center;width:70%;font-weight:700;border-radius:5px;margin:20px auto;cursor:pointer;transition:all .3s ease-in-out}.show-comment-button:hover{background-color:var(--color-base);color:#fff}#changelog{margin-top:20px}#changelog .event{padding:20px;text-align:center;position:relative;margin-bottom:10rem}#changelog .event:after{position:absolute;content:"";width:5px;height:100px;background:rgb(205 205 205);background:linear-gradient(180deg,hsla(0,0%,100%,0),rgb(205 205 205));-webkit-transform:translate(-50%);transform:translate(-50%)}#changelog .event.last:after{height:0}#changelog .icon{background-color:#1687a7;display:inline-block;padding:10px;border-radius:50%;border:3px solid #f6f5f5;position:absolute;top:0;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#changelog .title{font-size:28px;font-weight:700;margin:20px 0 5px;line-height:130%;text-transform:uppercase}#changelog .date{font-size:80%;color:#5a5a5a;margin-top:-5px}#changelog .description p{width:75%;text-align:justify;display:block;margin:0 auto;font-size:90%;line-height:180%}.site-spotify-playing{margin-top:5px}.site-spotify-playing .song-information{letter-spacing:2px;color:hsla(0,0%,99.6%,.4235294117647059);font-size:11px;margin-left:6px;display:inline}.site-spotify-playing .song-information a{color:hsla(0,0%,99.6%,.7607843137254902)}.site-spotify-playing .song-information a:hover{text-decoration:none}#icon-award .circle{-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}#icon-award .check,#icon-award .circle{-webkit-animation-name:check;animation-name:check;-webkit-animation-duration:3s;animation-duration:3s;stroke-dashoffset:1000;stroke-dasharray:1000}#icon-award .check{-webkit-animation-delay:1.5s;animation-delay:1.5s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}@-webkit-keyframes check{to{stroke-dashoffset:0}}@keyframes check{to{stroke-dashoffset:0}}#icon-compass .meter{-webkit-animation-name:meterturn;animation-name:meterturn;-webkit-animation-duration:4s;animation-duration:4s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-transform-origin:50% 50%;transform-origin:50% 50%}@-webkit-keyframes meterturn{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes meterturn{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}#icon-audio-disc{-webkit-transform-origin:center;transform-origin:center}#icon-audio-disc.playing{-webkit-animation:spinning 3s linear infinite alternate;animation:spinning 3s linear infinite alternate}@-webkit-keyframes spinning{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spinning{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}</style><meta name="generator" content="Gatsby 2.32.0"/><title data-react-helmet="true">RunWaves #2: GCP Architecture - Tất Vĩ Quyền</title><link data-react-helmet="true" rel="canonical" href="https://tatviquyen.name.vn/runwaves-2-gcp-architecture/"/><meta data-react-helmet="true" name="description" content="Architecture Overview Để đơn giản hóa việc deployment và hosting code trên Google Cloud Platform, mình đã nghiên cứu và xây dựng một kiến…"/><meta data-react-helmet="true" property="og:site_name"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="
                        RunWaves #2: GCP Architecture - Tất Vĩ Quyền
                    "/><meta data-react-helmet="true" property="og:description"/><meta data-react-helmet="true" property="og:url" content="https://tatviquyen.name.vn/runwaves-2-gcp-architecture/"/><meta data-react-helmet="true" property="article:published_time" content="03-05-2021"/><meta data-react-helmet="true" property="article:modified_time" content="03-05-2021"/><meta data-react-helmet="true" name="twitter:title"/><meta data-react-helmet="true" name="twitter:description" content="Architecture Overview Để đơn giản hóa việc deployment và hosting code trên Google Cloud Platform, mình đã nghiên cứu và xây dựng một kiến…"/><meta data-react-helmet="true" name="twitter:url" content="https://tatviquyen.name.vn/runwaves-2-gcp-architecture/"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="Tat Vi Quyen"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:image" content="/static/84cd22366b69ce4d695d9d6963d4538e/f0802/feature.jpg"/><meta data-react-helmet="true" property="og:image" content="/static/84cd22366b69ce4d695d9d6963d4538e/f0802/feature.jpg"/><meta data-react-helmet="true" property="og:image:width" content="1000"/><meta data-react-helmet="true" property="og:image:height" content="523"/><script data-react-helmet="true" type="application/ld+json">
                    {
                        "@context": "https://schema.org/",
                        "@type": "Article",
                        "author": {
                            "@type": "Person",
                            "name": "Tat Vi Quyen",
                            "image": "/images/logo.png",
                            "sameAs": ["https://tatviquyen.name.vn"]
                        },
                        
                        "headline": "RunWaves #2: GCP Architecture",
                        "url": "https://tatviquyen.name.vn/runwaves-2-gcp-architecture/",
                        "datePublished": "03-05-2021",
                        "dateModified": "03-05-2021",
                        "image": {
                                "@type": "ImageObject",
                                "url": "/static/84cd22366b69ce4d695d9d6963d4538e/f0802/feature.jpg",
                                "width": "1000",
                                "height": "523"
                            },
                        "publisher": {
                            "@type": "Organization",
                            "name": "undefined",
                            "logo": {
                                "@type": "ImageObject",
                                "url": "https://tatviquyen.name.vn/images/logo.png",
                                "width": 60,
                                "height": 60
                            }
                        },
                        "description": "undefined",
                        "mainEntityOfPage": {
                            "@type": "WebPage",
                            "@id": "https://tatviquyen.name.vn"
                        }
                    }
                </script><script data-react-helmet="true" async="" src="https://www.googletagmanager.com/gtag/js?id=G-D8J42ZP344"></script><script data-react-helmet="true">
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());
                    gtag('config', 'G-D8J42ZP344');
                    gtag('config', 'UA-189687920-1');
                </script><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#15171A"/><link rel="alternate" type="application/rss+xml" href="/rss"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-84a51b8d403746670b08.js"/><link as="script" rel="preload" href="/framework-ed42e5781b50a2ba94cc.js"/><link as="script" rel="preload" href="/app-e8444c09b92388beab4c.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/commons-fcf4a5c500a0f1f428ce.js"/><link as="script" rel="preload" href="/cb7ff614a03144592d7181ec1b235ec5408e91ad-38bb9454f08cabc95df3.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-633ffe73b7f6fad6ec91.js"/><link as="fetch" rel="preload" href="/page-data/runwaves-2-gcp-architecture/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2219164485.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="viewport"><div class="viewport-top"><header class="site-head "><div class="container"><div class="site-mast"><div class="site-mast-left-flex"><nav class="site-nav"><div class="site-nav-left"><a href="/"><img class="site-logo not-home" src="/images/logo.png" alt="Tất Vĩ Quyền"/></a><a class="site-nav-item" href="/">Home</a><a class="site-nav-item" href="/about">About</a><a class="site-nav-item" href="/changelog">Changelog</a></div></nav></div></div></div></header><main class="site-main"><div class="container"><article class="content"><header class="post-full-header"><div class="post-full-meta"><time class="post-full-meta-date" dateTime="{post.frontmatter.date}">03-05-2021</time><span><span class="date-divider">/</span><a href="/tag/runwaves">runwaves</a></span><span><span class="date-divider">/</span><a href="/tag/code">code</a></span></div><h1 class="post-full-title">RunWaves #2: GCP Architecture</h1></header><figure class="post-feature-image"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:50%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABpOblJJ0Ff//EABkQAQEBAQEBAAAAAAAAAAAAAAIBAAMSE//aAAgBAQABBQLlzvPNeTUlcjFPmpv/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAEBAQEAAAAAAAAAAAAAAAARABAB/9oACAEBAAY/Aplw7n//xAAaEAEAAgMBAAAAAAAAAAAAAAABABEQITFh/9oACAEBAAE/IdINk4y4kShhAtSr9J//2gAMAwEAAgADAAAAEE8P/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAQACAgMAAAAAAAAAAAAAAREAIUFREDFh/9oACAEBAAE/EAeq5ulKAfXL0D0wNeDOk9icOCRm65CZ/9k=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><img loading="lazy" sizes="(max-width: 1000px) 100vw, 1000px" srcset="/static/84cd22366b69ce4d695d9d6963d4538e/45361/feature.jpg 250w,
/static/84cd22366b69ce4d695d9d6963d4538e/7fb5e/feature.jpg 500w,
/static/84cd22366b69ce4d695d9d6963d4538e/f0802/feature.jpg 1000w,
/static/84cd22366b69ce4d695d9d6963d4538e/bfcc9/feature.jpg 1500w,
/static/84cd22366b69ce4d695d9d6963d4538e/69cb1/feature.jpg 1920w" src="/static/84cd22366b69ce4d695d9d6963d4538e/f0802/feature.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></figure><section class="post-full-content"><section class="content-body load-external-scripts"><h2>Architecture Overview</h2>
<ul>
<li>Để đơn giản hóa việc deployment và hosting code trên Google Cloud Platform, mình đã nghiên cứu và xây dựng một kiến trúc cloud cơ bản. Ý tưởng là chia ra Front End và Back End thành hai phần tách biệt và sử dụng các service được recommend cho mỗi phần.</li>
<li>Đây là sơ đồ về tổng quan kiến trúc và flow chính cho CI/CD.
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 740px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d0fae3869b559cd5ebaf40803b0d2d3f/3cc52/runwaves-architecture.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 62.16748768472906%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACXElEQVQoz1VTTW/aQBD1P+1PaK/9A71V4sSh6q09VFWlhkrQpiKV0g8JiaQEAjYkJoEkdnBsA17vrr3+4HXWSSgZ6Wm8tvbNzJtnY7PZoCgK6KyhI00SLJwb+EGAIPTB4hgykRBSQsr7LISo7ul4vKezgd14+JDnCmLNIfwYIkyQLiW4L5CEAvIBnBFh+Z/wEcZ6vUar1UIUsYovL0pIlSFZchz+ifHqPcP5iCFbxPj+k+P1hxjeBYckwrya7ElLMGzbRq1Ww/zKQUYFhVRgMqPOOFqHHM/rSwz6SyS3K3xqc7x8G8Kx44owywuURBiEITzPg+M4MJRSiEmjLFPbKpkemcaMrhiuxwtIl0Z2E7BrBs8O7s+RQPkw8tlkAtM00el0YOi5y7LcCqtDZRnikCG6WSNy1mAuQ3zLKEcVYjrziG81FEKi2z3C3d0djIwu+76PkNrWLzh1m1OB1eUUq5MuNhcW0jMTCSE7N1FO6Xk8JEmCSkMdurN6vY4vjQaM1WqF/f19tNttNJtNWJZJhBvI6xnkcICb4wkyIignQ7DhCG5vjNzqQwR+tUAdR90ufhwcoLG3ByNNU2hSxtg2S5UDixl+tad4VuPo/T7Dxu7h3WcXL96Qjn+HUEu/Kvy4Zs/zK19ufah11Kg0pA/KmcM5MvGxMUUwMAF7CLNzjq/fppCjAXmRCHYMvbXN7h9SZYImFFdzFGYPyegY+fgUyjpFMe4TelCjEyIMsSQPW5ZV2SVJ1VPCXWKV5+Ae2WU2hZjPIGaXlC/BKXM6c1qYILKIFui6brVUbT8d/wBNw4UMyD++sgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/d0fae3869b559cd5ebaf40803b0d2d3f/446c7/runwaves-architecture.webp 185w,
/static/d0fae3869b559cd5ebaf40803b0d2d3f/8522b/runwaves-architecture.webp 370w,
/static/d0fae3869b559cd5ebaf40803b0d2d3f/391b8/runwaves-architecture.webp 740w,
/static/d0fae3869b559cd5ebaf40803b0d2d3f/33e35/runwaves-architecture.webp 1015w"
              sizes="(max-width: 740px) 100vw, 740px"
              type="image/webp"
            />
          <source
            srcset="/static/d0fae3869b559cd5ebaf40803b0d2d3f/34758/runwaves-architecture.png 185w,
/static/d0fae3869b559cd5ebaf40803b0d2d3f/7c627/runwaves-architecture.png 370w,
/static/d0fae3869b559cd5ebaf40803b0d2d3f/86f95/runwaves-architecture.png 740w,
/static/d0fae3869b559cd5ebaf40803b0d2d3f/3cc52/runwaves-architecture.png 1015w"
            sizes="(max-width: 740px) 100vw, 740px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/d0fae3869b559cd5ebaf40803b0d2d3f/86f95/runwaves-architecture.png"
            alt="runwaves architecture"
            title="runwaves architecture"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></li>
</ul>
<h2>Front End</h2>
<ul>
<li><strong>GCP services: Cloud Load Balancing, Cloud Storage</strong></li>
<li><strong>Cloud Storage</strong> là một service cung cấp việc host các static files (ví dụ: HTML, CSS, JS hoặc media, hình ảnh,...). Code ReactJs sau khi build thì cũng là những static files nên mình viết phần build ở Github Actions và upload những file tĩnh đó lên Cloud Storage.</li>
<li>Tuy nhiên, để có thể truy cập Cloud Storage như một website và sử dụng giao thức HTTPS, mình cần dùng thêm <strong>Cloud Load Balancing</strong> để tạo một CDN. Sau khi tạo LB xong sẽ được cấp một IP, công việc tiếp theo là vào <strong>CloudFlare</strong> trỏ domain FE vào IP này (easy game 😎).
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 740px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5735ad57ee2db74f58006388d04ffe63/978eb/load-balancing.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 71.44654088050314%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACPUlEQVQ4y4VSTW/TQBD1r+CKRAWcAFW9ICR+ERdQVKgK/I6cU4SgBKGoB8qFKlRCgEQRPXDJRyPSuDRxEtvr/fD3Y2eNnaQCMfLT7O7Mvnkza2ut1sf1zT42npzgxlYft7b7uLnVxdqDDq7VOrha6+Hy/R4u3evgivZ3Hvdw92kPt7d7WH/YxcajArRe3+zC2jkY4nn7FLuHI7z4MMLLQxv7xwx73zhaRxy7H8d41rax0z7DzvtTvD3ycPBD4s2XAHtfA7z6xPD6M8P+d453xwJW4LtQIkAopYZAEgoAmUauvxCJ9BCLORBzfSz1eYrC8gsozPo1TzB2E/wcK5y7KZgCPJGDK33ueJg4M9hn52ABR5LmSLPc+Cwr1lm2WBMspSQ4DzB1JkiSuKqUpBkcV0GpEGFYQEpZaMuJJDP+4t6K4xhCCMxmM02YVISUMHZcrUxi2UJFRZRZk3ddF1EUVcQWkRCh4zgrASIUMtLqJer1OprNpikoQmXyKE5+Op2CRK0QUisU8DyvaoMuxFEIGkmj0UCr1UKappgoF3OtikSQcc7NeUVIZBQk6cuElORMXV1oBsb8okC8mDHFy9ZLW2m5VEiXKEBgPESgX1doFeW8SACtydOYyBNKlVY5C8aYvhwYT2cE5nvmMhWhwoTyxYmg2EdmT/mGEP8wSrZt2ygvx/A/My2X7S2jnNFoNEKn08FgMMBwOITv+0YNqaZuuNC/UJRDhWl1z/pblfKV1Z9/riSgcSwIWUUolwh/A4RIHA76LHsrAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/5735ad57ee2db74f58006388d04ffe63/446c7/load-balancing.webp 185w,
/static/5735ad57ee2db74f58006388d04ffe63/8522b/load-balancing.webp 370w,
/static/5735ad57ee2db74f58006388d04ffe63/391b8/load-balancing.webp 740w,
/static/5735ad57ee2db74f58006388d04ffe63/1982a/load-balancing.webp 1110w,
/static/5735ad57ee2db74f58006388d04ffe63/264d3/load-balancing.webp 1480w,
/static/5735ad57ee2db74f58006388d04ffe63/0d522/load-balancing.webp 1590w"
              sizes="(max-width: 740px) 100vw, 740px"
              type="image/webp"
            />
          <source
            srcset="/static/5735ad57ee2db74f58006388d04ffe63/34758/load-balancing.png 185w,
/static/5735ad57ee2db74f58006388d04ffe63/7c627/load-balancing.png 370w,
/static/5735ad57ee2db74f58006388d04ffe63/86f95/load-balancing.png 740w,
/static/5735ad57ee2db74f58006388d04ffe63/70731/load-balancing.png 1110w,
/static/5735ad57ee2db74f58006388d04ffe63/9ee4f/load-balancing.png 1480w,
/static/5735ad57ee2db74f58006388d04ffe63/978eb/load-balancing.png 1590w"
            sizes="(max-width: 740px) 100vw, 740px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/5735ad57ee2db74f58006388d04ffe63/86f95/load-balancing.png"
            alt="load balancing"
            title="load balancing"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></li>
<li>
<p>Đây là <strong>Github Actions Workflow</strong> cho repo <a href="https://github.com/RunWaves/reactjs" target="_blank">ReactJs</a>, mỗi khi dev push code hoặc merge vào branch <code class="language-text">develop</code> thì Action này sẽ được trigger để build và upload lên Cloud Storage.</p>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">name</span><span class="token punctuation">:</span> ReactJs Deploy

<span class="token key atrule">on</span><span class="token punctuation">:</span>
    <span class="token key atrule">push</span><span class="token punctuation">:</span>
        <span class="token key atrule">branches</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> develop
    <span class="token key atrule">pull_request</span><span class="token punctuation">:</span>
        <span class="token key atrule">branches</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> develop

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
        <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
        <span class="token key atrule">steps</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2

            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node.js <span class="token comment"># setup Node.js in the runner</span>
            <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v1
            <span class="token key atrule">with</span><span class="token punctuation">:</span>
                <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">"12"</span>
            <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v2
            <span class="token key atrule">with</span><span class="token punctuation">:</span>
                <span class="token key atrule">path</span><span class="token punctuation">:</span> ~/.npm
                <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>node<span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> hashFiles('<span class="token important">**/package-lock.json')</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
                <span class="token key atrule">restore-keys</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>node<span class="token punctuation">-</span>
            <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> npm ci <span class="token comment"># install dependencies</span>
            <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run build <span class="token punctuation">-</span><span class="token punctuation">-</span>if<span class="token punctuation">-</span>present <span class="token comment"># build the project</span>
            <span class="token comment"># - run: npm run test:unit # run the tests</span>

            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup <span class="token punctuation">-</span> gcloud / gsutil
            <span class="token key atrule">uses</span><span class="token punctuation">:</span> google<span class="token punctuation">-</span>github<span class="token punctuation">-</span>actions/setup<span class="token punctuation">-</span>gcloud@master
            <span class="token key atrule">with</span><span class="token punctuation">:</span>
                <span class="token key atrule">service_account_key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GCS_SA_KEY <span class="token punctuation">}</span><span class="token punctuation">}</span>
                <span class="token key atrule">project_id</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GCS_PROJECT <span class="token punctuation">}</span><span class="token punctuation">}</span>
                <span class="token key atrule">export_default_credentials</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy static site to GS bucket
            <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token punctuation">-</span>
                gsutil <span class="token punctuation">-</span>m rsync <span class="token punctuation">-</span>r build gs<span class="token punctuation">:</span>//$<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GCS_BUCKET <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
</li>
</ul>
<h2>Back End</h2>
<ul>
<li><strong>GCP services: Compute Instance, Cloud SQL</strong></li>
<li>Đối với phần code backend, cụ thể là Laravel, mình chọn deploy lên một <strong>Virtual Machine (VM)</strong> với setup <strong>Nginx + PHP + Composer</strong>.</li>
<li>Database thì mình dùng <strong>Cloud SQL</strong> để chạy riêng một MySQL server, giảm tải phần xử lý DB cho server backend ở trên.</li>
<li>
<p><strong>Github Actions Workflow</strong> cho repo <a href="https://github.com/RunWaves/api" target="_blank">Laravel</a></p>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Laravel Deploy

<span class="token key atrule">on</span><span class="token punctuation">:</span>
    <span class="token key atrule">push</span><span class="token punctuation">:</span>
        <span class="token key atrule">branches</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> develop
    <span class="token key atrule">pull_request</span><span class="token punctuation">:</span>
        <span class="token key atrule">branches</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> develop

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
        <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
        <span class="token key atrule">steps</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2

            <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Executing remote ssh commands
            <span class="token key atrule">uses</span><span class="token punctuation">:</span> appleboy/ssh<span class="token punctuation">-</span>action@master
            <span class="token key atrule">with</span><span class="token punctuation">:</span>
                <span class="token key atrule">host</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.SERVER_IP <span class="token punctuation">}</span><span class="token punctuation">}</span>
                <span class="token key atrule">username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.SERVER_USERNAME <span class="token punctuation">}</span><span class="token punctuation">}</span>
                <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.KEY_SSH <span class="token punctuation">}</span><span class="token punctuation">}</span>
                <span class="token key atrule">script</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
                    cd /opt/runwaves-api
                    php artisan down
                    git pull origin develop
                    php artisan optimize:clear
                    composer install --optimize-autoloader --no-dev
                    php artisan optimize
                    php artisan up</span></code></pre></div>
</li>
</ul>
<h2>Billing</h2>
<ul>
<li>Cấu hình cho các service trên cũng khá cơ bản và chi phí một tháng rơi vào tầm <strong>$40 - $45</strong>.
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 740px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/cdc7540733c41ac84f71a7a951e75e46/b2886/billing.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 32.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABHUlEQVQoz42QSW7DMAxFfdJujQK9Uy8QID1Dt9kHRYqunLRIPMqDJlJkScUNusgihJ4oyTTxP4u6vnDTtBxC4JQSxxg5CPFB/ofeCzNHnibDXddlbkVEut2F8jfO9ZvNhrfbN97tdgwAXMw2cN2NPJiJp9kyJmJZV/Qs4B3UzTzPXFUVH08nbtuWEZMqDPS+93QeEp2aQNXFC46qWnINdGyBfrob/C35PCCFCLmhc45Qmos6zVRYa3H/ccDD5xeacURjRhyGAcdxQrMg2pBQLEIiSpSVa3DevPe8zuEvY6EnJH4ocpd1hoiY563WvQ/U932uKSKk0gcoAbBcrCvFQhkjXIH8/ix2nmQ+r/qDKlV7qm6FQBQ559tlWV5+AUhbGU29soMOAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/cdc7540733c41ac84f71a7a951e75e46/446c7/billing.webp 185w,
/static/cdc7540733c41ac84f71a7a951e75e46/8522b/billing.webp 370w,
/static/cdc7540733c41ac84f71a7a951e75e46/391b8/billing.webp 740w,
/static/cdc7540733c41ac84f71a7a951e75e46/1982a/billing.webp 1110w,
/static/cdc7540733c41ac84f71a7a951e75e46/264d3/billing.webp 1480w,
/static/cdc7540733c41ac84f71a7a951e75e46/3f6d5/billing.webp 4096w"
              sizes="(max-width: 740px) 100vw, 740px"
              type="image/webp"
            />
          <source
            srcset="/static/cdc7540733c41ac84f71a7a951e75e46/34758/billing.png 185w,
/static/cdc7540733c41ac84f71a7a951e75e46/7c627/billing.png 370w,
/static/cdc7540733c41ac84f71a7a951e75e46/86f95/billing.png 740w,
/static/cdc7540733c41ac84f71a7a951e75e46/70731/billing.png 1110w,
/static/cdc7540733c41ac84f71a7a951e75e46/9ee4f/billing.png 1480w,
/static/cdc7540733c41ac84f71a7a951e75e46/b2886/billing.png 4096w"
            sizes="(max-width: 740px) 100vw, 740px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/cdc7540733c41ac84f71a7a951e75e46/86f95/billing.png"
            alt="billing"
            title="billing"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></li>
</ul>
<blockquote>
<p>Trong series <strong>RunWaves</strong> này, tụi mình sẽ chia sẻ lại hết toàn bộ những gì đã học &#x26; làm được trong suốt quá trình xây dựng sản phẩm. Nhưng với những kinh nghiệm ít ỏi của team thì chắc chắn sẽ còn nhiều thứ chưa được chuẩn chỉ nên tụi mình rất mong nhận được nhiều ý kiến đóng góp từ mọi người thông qua email mình là <strong>tvq9612@gmail.com</strong>. Mỗi một email góp ý đều có giá trị rất lớn với team ạ. 🥰</p>
</blockquote>
<p>Hai bài đầu tiên trong series này mình chỉ mới giới thiệu tổng quan về RunWaves, những bài tiếp theo mình sẽ đi sâu hơn vào technical của từng vấn đề. Hẹn gặp lại ở bài #3 👋!</p></section></section></article></div></main></div><div class="viewport-bottom"><footer class="site-foot"><div class="site-foot-nav container"><div class="site-foot-nav-left">© <a href="/">Tất Vĩ Quyền</a> - <a href="https://cv.tatviquyen.name.vn" target="_blank">My CV ↗</a></div><div class="site-foot-nav-right"><a href="https://facebook.com/tvqqq" class="site-nav-item" target="_blank" rel="noopener noreferrer"><img class="site-nav-icon" src="/images/icons/facebook.svg" alt="Facebook"/></a><a href="https://www.instagram.com/tvq.december" class="site-nav-item" target="_blank" rel="noopener noreferrer"><img class="site-nav-icon" src="/images/icons/instagram.svg" alt="Instagram"/></a><a href="https://twitter.com/tvq9612" class="site-nav-item" target="_blank" rel="noopener noreferrer"><img class="site-nav-icon" src="/images/icons/twitter.svg" alt="Twitter"/></a><a href="https://github.com/tvqqq" class="site-nav-item" target="_blank" rel="noopener noreferrer"><img class="site-nav-icon" src="/images/icons/github.svg" alt="Github"/></a><a href="https://www.linkedin.com/in/tvq" class="site-nav-item" target="_blank" rel="noopener noreferrer"><img class="site-nav-icon" src="/images/icons/linkedin.svg" alt="LinkedIn"/></a></div></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/runwaves-2-gcp-architecture/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-91f1a81791041a697230.js"],"app":["/app-e8444c09b92388beab4c.js"],"component---src-pages-404-js":["/component---src-pages-404-js-b7e99d5a748e1d535194.js"],"component---src-templates-author-js":["/component---src-templates-author-js-a00ef94bc32dd95a4fcd.js"],"component---src-templates-index-js":["/component---src-templates-index-js-e67bd6b75fc1e51c8f6a.js"],"component---src-templates-page-js":["/component---src-templates-page-js-6808e881432e9c618379.js"],"component---src-templates-post-js":["/component---src-templates-post-js-633ffe73b7f6fad6ec91.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-e946e69f63168fc7acad.js"]};/*]]>*/</script><script src="/polyfill-91f1a81791041a697230.js" nomodule=""></script><script src="/component---src-templates-post-js-633ffe73b7f6fad6ec91.js" async=""></script><script src="/cb7ff614a03144592d7181ec1b235ec5408e91ad-38bb9454f08cabc95df3.js" async=""></script><script src="/commons-fcf4a5c500a0f1f428ce.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-e8444c09b92388beab4c.js" async=""></script><script src="/framework-ed42e5781b50a2ba94cc.js" async=""></script><script src="/webpack-runtime-84a51b8d403746670b08.js" async=""></script></body></html>